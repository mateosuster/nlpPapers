moderator.value="female",
ylim=c(-.1,.5),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topright",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
# 7 "Importance of Prior Government Experience"
par(bty="n",lwd=2,xaxt="n")  # Get rid of the box around the plot, make the lines thicker,
# and tell R to get rid of the x axis.
plot.estimateEffect(effect_all,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=effect_all$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(effect_all,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=effect_all$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topright",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
# 7 "Importance of Prior Government Experience"
par(bty="n",lwd=2,xaxt="n")  # Get rid of the box around the plot, make the lines thicker,
# and tell R to get rid of the x axis.
plot.estimateEffect(effect_all,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=effect_all$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(effect_all,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=effect_all$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topright",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
# 7 "Importance of Prior Government Experience"
par(bty="n",lwd=2,xaxt="n")  # Get rid of the box around the plot, make the lines thicker,
# and tell R to get rid of the x axis.
plot.estimateEffect(effect_all,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=effect_all$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(effect_all,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=effect_all$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
summary(effect_all, topics = 4)
summary(effect_all
# , topics = 4
)
summary(effect_all , topics = 4)
summary(effect_all_gender)
## Estimating metadata/topic relationships
levels(meta$gender_final)
out$meta$gender_final <- as.factor(out$meta$gender_final)
effect_all_2 <- estimateEffect(1:k ~ gender_final+ YEAR , model_sel,
documents = docs_all,
metadata = out$meta, uncertainty = "Global")
summary(effect_all_2)
summary(effect_all_2, topics = 4)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
# 7 "Importance of Prior Government Experience"
par(bty="n",lwd=2,xaxt="n")  # Get rid of the box around the plot, make the lines thicker,
# and tell R to get rid of the x axis.
ef_model_plot = effect_all_2
plot.estimateEffect(ef_model_plot,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[4],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
# 7 "Importance of Prior Government Experience"
par(bty="n",lwd=2,xaxt="n")  # Get rid of the box around the plot, make the lines thicker,
# and tell R to get rid of the x axis.
ef_model_plot = effect_all_2
topic_plot = 18
plot.estimateEffect(ef_model_plot,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
for (i in seq(3)){
print(i)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
}
for (i in seq(3)){
plot.estimateEffect(ef_model_plot,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[i],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[i],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
}
labels
labels$Topics[1]
for (i in seq(32)){
plot.estimateEffect(ef_model_plot,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[i],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main=paste("Importance of", paste(labels$Topics[i])),
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[i],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T
)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
}
temporal_evolution <- function(selectioned_model) {
for (i in seq(32)){
plot.estimateEffect(selectioned_model,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=selectioned_model$topics[i],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main=paste("Importance of", paste(labels$Topics[i])),
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(selectioned_model,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=selectioned_model$topics[i],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T
)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
}
}
temporal_evolution(ef_model_plot)
View(processed_all)
temporal_evolution(effect_all)
temporal_evolution(effect_all_2)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
# 7 "Importance of Prior Government Experience"
par(bty="n",lwd=2,xaxt="n")  # Get rid of the box around the plot, make the lines thicker,
# and tell R to get rid of the x axis.
ef_model_plot = effect_all_2
topic_plot = 18
plot.estimateEffect(ef_model_plot,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
# 7 "Importance of Prior Government Experience"
# par(bty="n",lwd=2,xaxt="n")  # Get rid of the box around the plot, make the lines thicker,
# and tell R to get rid of the x axis.
ef_model_plot = effect_all_2
topic_plot = 18
plot.estimateEffect(ef_model_plot,  #Topic proportions in Rep. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
main="Importance of ...",
moderator="gender_final",
moderator.value="male",
# ylim=c(-.1,.1),
# xlim=c(1991,2022),
linecol="red",
printlegend=F)
plot.estimateEffect(ef_model_plot,  #Topic proportions in Dem. debates
covariate="YEAR",
model=model_sel,
topics=ef_model_plot$topics[topic_plot],
method="continuous",
# xlab="Election Year",
# ylab="Expected Topic Proportions",
moderator="gender_final",
moderator.value="female",
# ylim=c(-.1,.1),
linecol="blue",
printlegend=F,add=T)
abline(h=0,lty=4,lwd=1,col="grey45")  # Put a dotted line on the y axis at 0.
# abline(v=c(2000,2004,2008,2012,2016),lty=2,lwd=1,col="grey45")  # Put dotted lines
# on the x axis at each election year.
par(xaxt="s") # Tell R that it's OK to plot an x axis.
legend("topleft",legend=c("Male","Female"),col=c("red","blue"),
lty=1)
plot(model_sel, type = "perspectives", topics = c(1))
for (i in seq(k)){
cloud(model_sel, topic = i, scale = c(2, 0.25))
}
plot(effect_all_gender, covariate = "gender_final",
topics = i,
model = model_sel  ,
method = "difference",
cov.value1 = "female", cov.value2 = "male",
xlab = "More Male ... More Female",
labeltype = "custom",
custom.labels = labels$Topics[i] )
for (i in seq(k)){
plot(effect_all_gender, covariate = "gender_final",
topics = i,
model = model_sel  ,
method = "difference",
cov.value1 = "female", cov.value2 = "male",
xlab = "More Male ... More Female",
labeltype = "custom",
custom.labels = labels$Topics[i] )
}
for (i in seq(k)){
plot(effect_all_gender, covariate = "gender_final",
topics = i,
model = model_sel  ,
method = "difference",
cov.value1 = "female", cov.value2 = "male",
xlab = "More Male ... More Female",
main =  labels$Topics[i] ,
labeltype = "custom",
custom.labels = labels$Topics[i] )
}
for (i in seq(k)){
cloud(model_sel, topic = i,
main = labels$Topics[i]
# ,scale = c(2, 0.25)
)
}
for (i in seq(k)){
cloud(model_sel, topic = i,
# main = labels$Topics[i]
# ,scale = c(2, 0.25)
)
}
for (i in seq(4)){
cloud(model_sel, topic = i,
main = labels$Topics[i]
,scale = c(2, 0.25)
)
}
for (i in seq(4)){
cloud(model_sel, topic = i,
main = labels$Topics[i]
# ,scale = c(2, 0.25)
)
}
for (i in seq(k)){
cloud(model_sel, topic = i,
main = labels$Topics[i]
# ,scale = c(2, 0.25)
)
}
